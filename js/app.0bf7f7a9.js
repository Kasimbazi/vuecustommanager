(function(t){function e(e){for(var s,c,l=e[0],n=e[1],i=e[2],m=0,d=[];m<l.length;m++)c=l[m],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&d.push(o[c][0]),o[c]=0;for(s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s]);u&&u(e);while(d.length)d.shift()();return r.push.apply(r,i||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,l=1;l<a.length;l++){var n=a[l];0!==o[n]&&(s=!1)}s&&(r.splice(e--,1),t=c(c.s=a[0]))}return t}var s={},o={app:0},r=[];function c(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.m=t,c.c=s,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)c.d(a,s,function(e){return t[e]}.bind(null,s));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],n=l.push.bind(l);l.push=e,l=l.slice();for(var i=0;i<l.length;i++)e(l[i]);var u=n;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s,o,r=a("2b0e"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("header-bar"),a("b-container",[a("b-row",{staticClass:"mt-5"},[a("router-view")],1)],1),a("b-row",[a("data-table")],1)],1)},l=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"primary"}},[a("b-container",[a("b-row",{staticClass:"text-white"},[a("b-col",[a("b-icon-people-fill",{staticClass:"h2"})],1),a("b-col",[a("span",{staticClass:"h3"},[t._v("CRM")])])],1)],1)],1)},i=[],u={name:"HeaderBar"},m=u,d=a("2877"),b=Object(d["a"])(m,n,i,!1,null,null,null),f=b.exports,p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-row",[a("b-alert",{attrs:{variant:"success",dismissible:""},model:{value:t.showSuccessAlert,callback:function(e){t.showSuccessAlert=e},expression:"showSuccessAlert"}},[t._v(" "+t._s(t.alertMessage)+" ")])],1),a("b-row",[a("customer-overview",{attrs:{totalCustomers:t.numberOfCustomers,activeCustomers:t.activeCustomers},on:{totalCustomersIsActive:t.setFilterTotalIsActive,activeCustomerIsActive:t.setFilterActiveIsActive}})],1),a("b-row",{staticClass:"mt-3"},[a("b-card",[a("b-row",{attrs:{"align-h":"between"}},[a("b-col",{attrs:{cols:"6"}},[a("h3",[t._v(t._s(t.tableHeader))])]),a("b-col",{attrs:{cols:"2"}},[a("b-row",[a("b-col",[a("b-button",{attrs:{variant:"primary",id:"show-btn"},on:{click:t.showCreateModal}},[a("b-icon-plus",{staticClass:"text-white"}),a("span",{staticClass:"h6 text-white"},[t._v("New Customer")])],1)],1)],1)],1)],1),a("b-row",{staticClass:"mt-3"},[a("b-table",{staticClass:"text-center",attrs:{striped:"",hover:"",items:t.items,fields:t.fields},scopedSlots:t._u([{key:"cell(contact_name)",fn:function(e){return[t._v(" "+t._s(e.item.contact_firstname+" "+e.item.contact_lastname)+" ")]}},{key:"cell(customer_status)",fn:function(t){return["active"===t.item.customer_status?a("b-icon-bookmark-check-fill",{attrs:{variant:"success"}}):a("b-icon-bookmark-x-fill",{attrs:{variant:"danger"}})]}},{key:"cell(actions)",fn:function(e){return[a("b-row",[a("b-col",{attrs:{cols:"7"}},[a("b-icon-pencil-square",{staticClass:"action-item",attrs:{variant:"primary"},on:{click:function(a){return t.getRowData(e.item.id)}}})],1),a("b-col",{attrs:{cols:"1"}},[a("b-icon-trash-fill",{staticClass:"action-item",attrs:{variant:"danger"},on:{click:function(a){return t.showDeleteModal(e.item.id)}}})],1)],1)]}}])})],1)],1)],1),a("b-modal",{ref:"create-customer-modal",attrs:{size:"xl","hide-footer":"",title:"New Customer"}},[a("create-customer-form",{on:{closeCreateModal:t.closeCreateModal,reloadDataTable:t.getCustomerData,showSuccessAlert:t.showAlertCreate}})],1),a("b-modal",{ref:"edit-customer-modal",attrs:{size:"xl","hide-footer":"",title:"Edit Customer"}},[a("edit-customer-form",{attrs:{customerId:t.customerId},on:{closeEditModal:t.closeEditModal,reloadDataTable:t.getCustomerData,showSuccessAlert:t.showAlertUpdate}})],1),a("b-modal",{ref:"delete-customer-modal",attrs:{size:"md","hide-footer":"",title:"Confirm Deletion"}},[a("delete-customer-modal",{attrs:{customerId:t.customerId},on:{closeDeleteModal:t.closeDeleteModal,reloadDataTable:t.getCustomerData,showDeleteAlert:t.showDeleteSuccessModal}})],1)],1)},h=[],v=(a("4de4"),a("d3b7"),a("bc3a")),C=a.n(v),_={},w=Object(d["a"])(_,s,o,!1,null,null,null),y=w.exports,g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-form",{staticClass:"mt-3"},[a("b-row",[a("b-row",[a("h4",{staticClass:"text-secondary"},[t._v("Contact Details")])]),a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{attrs:{id:"first-name",label:"First Name","label-for":"first-name"}},[a("b-form-input",{attrs:{id:"first-name",type:"text",placeholder:"First Name"},model:{value:t.customer.contact_firstname,callback:function(e){t.$set(t.customer,"contact_firstname",e)},expression:"customer.contact_firstname"}})],1)],1),a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{attrs:{id:"last-name",label:"Last Name","label-for":"last-name"}},[a("b-form-input",{attrs:{id:"last-name",type:"text",placeholder:"Last Name"},model:{value:t.customer.contact_lastname,callback:function(e){t.$set(t.customer,"contact_lastname",e)},expression:"customer.contact_lastname"}})],1)],1)],1),a("b-row",{staticClass:"mt-3"},[a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{attrs:{id:"email",label:"E-Mail","label-for":"email"}},[a("b-form-input",{attrs:{id:"email",type:"email",placeholder:"example@crm.com"},model:{value:t.customer.contact_email,callback:function(e){t.$set(t.customer,"contact_email",e)},expression:"customer.contact_email"}})],1)],1)],1),a("b-row",{staticClass:"mt-5"},[a("h4",{staticClass:"text-secondary"},[t._v("Company Details")])]),a("b-row",[a("b-col",{attrs:{cols:"4"}},[a("b-form-group",{attrs:{id:"company_name",label:"Company Name","label-for":"company_name"}},[a("b-form-input",{attrs:{id:"company_name",type:"text",placeholder:"XYZ Industries"},model:{value:t.customer.company_name,callback:function(e){t.$set(t.customer,"company_name",e)},expression:"customer.company_name"}})],1)],1)],1),a("b-row",[a("b-col",{attrs:{cols:"4"}},[a("b-form-group",{attrs:{id:"acquired_on",label:"Acquired On","label-for":"acquired_on"}},[a("b-form-input",{attrs:{id:"acquired_on",type:"date"},model:{value:t.customer.acquired_on,callback:function(e){t.$set(t.customer,"acquired_on",e)},expression:"customer.acquired_on"}})],1)],1)],1),a("b-row",{staticClass:"mt-2"},[a("b-form-checkbox",{attrs:{id:"customer_status",name:"customer-status",value:"active","unchecked-value":"inactive"},model:{value:t.customer.customer_status,callback:function(e){t.$set(t.customer,"customer_status",e)},expression:"customer.customer_status"}},[t._v(" Customer is active ")])],1),a("b-row",{staticClass:"mt-4"},[a("b-col",{attrs:{cols:"3"}},[a("b-button",{staticClass:"px-5",attrs:{variant:"primary"},on:{click:t.addNewCustomer}},[t._v("Add Customer")])],1),a("b-col",[a("b-button",{attrs:{variant:"warning"},on:{click:t.triggerClose}},[t._v("Close")])],1)],1)],1)},x=[],k={name:"CreateCustomerModal",data:function(){return{customer:{}}},methods:{triggerClose:function(){this.$emit("closeCreateModal")},addNewCustomer:function(){var t=this;C.a.post("http://localhost:3000/customers/",this.customer).then((function(e){console.log(e.data),t.$emit("closeCreateModal"),t.$emit("reloadDataTable"),t.$emit("showSuccessAlert")})).catch((function(t){console.log(t)}))}}},D=k,M=Object(d["a"])(D,g,x,!1,null,null,null),$=M.exports,A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-form",{staticClass:"mt-3"},[a("b-row",[a("b-row",[a("h4",{staticClass:"text-secondary"},[t._v("Contact Details")])]),a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{attrs:{id:"first-name",label:"First Name","label-for":"first-name"}},[a("b-form-input",{attrs:{id:"first-name",type:"text",placeholder:"First Name"},model:{value:t.customer.contact_firstname,callback:function(e){t.$set(t.customer,"contact_firstname",e)},expression:"customer.contact_firstname"}})],1)],1),a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{attrs:{id:"last-name",label:"Last Name","label-for":"last-name"}},[a("b-form-input",{attrs:{id:"last-name",type:"text",placeholder:"Last Name"},model:{value:t.customer.contact_lastname,callback:function(e){t.$set(t.customer,"contact_lastname",e)},expression:"customer.contact_lastname"}})],1)],1)],1),a("b-row",{staticClass:"mt-3"},[a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{attrs:{id:"email",label:"E-Mail","label-for":"email"}},[a("b-form-input",{attrs:{id:"email",type:"email",placeholder:"example@crm.com"},model:{value:t.customer.contact_email,callback:function(e){t.$set(t.customer,"contact_email",e)},expression:"customer.contact_email"}})],1)],1)],1),a("b-row",{staticClass:"mt-5"},[a("h4",{staticClass:"text-secondary"},[t._v("Company Details")])]),a("b-row",[a("b-col",{attrs:{cols:"4"}},[a("b-form-group",{attrs:{id:"company_name",label:"Company Name","label-for":"company_name"}},[a("b-form-input",{attrs:{id:"company_name",type:"text",placeholder:"XYZ Industries"},model:{value:t.customer.company_name,callback:function(e){t.$set(t.customer,"company_name",e)},expression:"customer.company_name"}})],1)],1)],1),a("b-row",[a("b-col",{attrs:{cols:"4"}},[a("b-form-group",{attrs:{id:"acquired_on",label:"Acquired On","label-for":"acquired_on"}},[a("b-form-input",{attrs:{id:"acquired_on",type:"date"},model:{value:t.customer.acquired_on,callback:function(e){t.$set(t.customer,"acquired_on",e)},expression:"customer.acquired_on"}})],1)],1)],1),a("b-row",{staticClass:"mt-2"},[a("b-form-checkbox",{attrs:{id:"customer_status",name:"customer-status",value:"active","unchecked-value":"inactive"},model:{value:t.customer.customer_status,callback:function(e){t.$set(t.customer,"customer_status",e)},expression:"customer.customer_status"}},[t._v(" Customer is active ")])],1),a("b-row",{staticClass:"mt-4"},[a("b-col",{attrs:{cols:"3"}},[a("b-button",{staticClass:"px-5",attrs:{variant:"primary"},on:{click:t.updateCustomer}},[t._v("Update Customer")])],1),a("b-col",[a("b-button",{attrs:{variant:"warning"},on:{click:t.triggerClose}},[t._v("Close")])],1)],1)],1)},O=[],I=(a("a9e3"),{name:"CreateCustomerModal",props:{customerId:Number},data:function(){return{customer:{}}},mounted:function(){this.getCusomterByID()},methods:{triggerClose:function(){this.$emit("closeEditModal")},getCusomterByID:function(){var t=this;C.a.get("http://localhost:3000/customers/".concat(this.customerId)).then((function(e){t.customer=e.data})).catch((function(t){console.log(t)}))},updateCustomer:function(){var t=this;C.a.put("http://localhost:3000/customers/".concat(this.customerId),this.customer).then((function(e){console.log(e.data),t.$emit("closeEditModal"),t.$emit("reloadDataTable"),t.$emit("showSuccessAlert")})).catch((function(t){console.log(t)}))}}}),S=I,N=Object(d["a"])(S,A,O,!1,null,null,null),j=N.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-row",{staticClass:"mt-2 mb-3"},[a("h6",{staticClass:"text-secondary"},[t._v(" Are you sure you want to delete this customer from your CRM? ")])]),a("b-row",{staticClass:"mt-2 mb-3"},[a("p",{staticClass:"text-danger"},[t._v(" This action is not reversible and may result in the loss if important data. ")])]),a("b-row",{staticClass:"mt-4"},[a("b-col",[a("b-button",{attrs:{variant:"danger"},on:{click:t.removeCustomerFromData}},[t._v("Delete Customer")])],1),a("b-col",[a("b-button",{attrs:{variant:"warning"},on:{click:t.triggerClose}},[t._v("Close")])],1)],1)],1)},T=[],q={name:"DeleteCustomerModal",props:{customerId:Number},methods:{triggerClose:function(){this.$emit("closeDeleteModal")},removeCustomerFromData:function(){var t=this;C.a.delete("http://localhost:3000/customers/".concat(this.customerId)).then((function(){t.$emit("reloadDataTable"),t.$emit("showDeleteAlert"),t.$emit("closeDeleteModal")})).catch((function(t){console.log(t)}))}}},F=q,H=Object(d["a"])(F,E,T,!1,null,null,null),P=H.exports,B={components:{CustomerOverview:y,CreateCustomerForm:$,EditCustomerForm:j,DeleteCustomerModal:P},data:function(){return{fields:[{key:"company_name",label:"Company Name",sortable:!1},{key:"contact_name",label:"Contact Name",sortable:!1},{key:"contact_email",label:"Contact E-Mail",sortable:!1},{key:"customer_status",label:"Customer Status",sortable:!1},"actions"],items:[],numberOfCustomers:0,activeCustomers:0,activeCustomersData:[],customerId:0,companySearchTerm:"",tableHeader:"",showSuccessAlert:!1,alertMessage:""}},mounted:function(){this.getCustomerData()},methods:{showCreateModal:function(){this.$refs["create-customer-modal"].show()},closeCreateModal:function(){this.$refs["create-customer-modal"].hide()},getCustomerData:function(){var t=this;C.a.get("http://localhost:3000/customers/").then((function(e){t.tableHeader="Total Customer",t.items=e.data,t.numberOfCustomers=e.data.length,t.activeCustomersData=e.data.filter((function(t){return"active"===t.customer_status})),t.activeCustomers=t.activeCustomersData.length})).catch((function(t){console.log(t)}))},getRowData:function(t){this.$refs["edit-customer-modal"].show(),this.customerId=t},closeEditModal:function(){this.$refs["edit-customer-modal"].hide()},setFilterTotalIsActive:function(){this.tableHeader="Total Customers",this.getCustomerData()},setFilterActiveIsActive:function(){this.tableHeader="Active Customers",this.items=this.activeCustomersData},showAlertCreate:function(){this.showSuccessAlert=!0,this.alertMessage="Customer was created successfully!"},showAlertUpdate:function(){this.showSuccessAlert=!0,this.alertMessage="Customer was updated successfully"},showDeleteModal:function(t){this.$refs["delete-customer-modal"].show(),this.customerId=t},closeDeleteModal:function(){this.$refs["delete-customer-modal"].hide()},showDeleteSuccessModal:function(){this.showSuccessAlert=!0,this.alertMessage="Customer was deleted successfully!"}}},L=B,R=(a("6224"),Object(d["a"])(L,p,h,!1,null,null,null)),z=R.exports,U={components:{HeaderBar:f,DataTable:z}},J=U,X=Object(d["a"])(J,c,l,!1,null,null,null),Y=X.exports,Z=a("a18c"),G=a.n(Z),K=a("5f5b"),Q=a("b1e0");a("f9e3"),a("2dd8");r["default"].use(K["a"]),r["default"].use(Q["a"]),r["default"].config.productionTip=!1,new r["default"]({router:G.a,render:function(t){return t(Y)}}).$mount("#app")},"58f1":function(t,e,a){},6224:function(t,e,a){"use strict";a("58f1")},a18c:function(t,e){}});
//# sourceMappingURL=app.0bf7f7a9.js.map